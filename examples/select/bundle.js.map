{"version":3,"file":null,"sources":["../../src/components/Select/Select.js"],"sourcesContent":["import React from 'react'\nconst Select = React.createClass({\n  propTypes: {\n    selects: React.PropTypes.array.isRequired,\n    onSelectChange: React.PropTypes.func\n  },\n  getInitialState () {\n    return {\n      display: 'none',\n      placeholder: this.props.selects && this.props.selects instanceof Array &&\n                    this.props.selects.length !== 0\n                    ? this.props.selects[0] : '请选择',\n      className: 'placeholder_close'\n    }\n  },\n  selectClick (e) {\n    e.stopPropagation()\n    this.setState({\n      display: this.state.display === 'block' ? 'none' : 'block',\n      className: this.state.className === 'placeholder_close'\n                  ? 'placeholder_open' : 'placeholder_close'\n    })\n  },\n  clickHiden (e) {\n    if (e.target.id === 'selectBox' || e.target.id === 'selectContent') {\n      document.body.removeEventListener('click', this.setHide)\n    } else {\n      document.body.addEventListener('click', this.setHide)\n    }\n  },\n  setHide () {\n    console.log('add click....')\n    this.setState({\n      display: 'none',\n      className: 'placeholder_close'\n    })\n  },\n  componentDidUpdate () {\n    if (this.state.display === 'none') {\n      document.body.removeEventListener('mousemove', this.clickHiden)\n      document.body.removeEventListener('click', this.setHide)\n    } else {\n      document.body.addEventListener('mousemove', this.clickHiden)\n    }\n  },\n  itemClick (e) {\n    e.stopPropagation()\n    this.setState({\n      placeholder: e.target.innerText,\n      display: 'none',\n      className: 'placeholder_close'\n    })\n    this.props.onSelectChange ? this.props.onSelectChange(e.target.innerText) : ''\n  },\n  render () {\n    return (\n      <div ref='selectBox' className='select__box' onClick={this.selectClick} id='selectBox'>\n        <span className={this.state.className} id='selectContent'>{this.state.placeholder}</span>\n        <ul id='liOptions' style={{display: this.state.display}}>\n          {\n            this.props.selects && this.props.selects instanceof Array &&\n                          this.props.selects.length !== 0\n            ? this.props.selects.map((item, index) => {\n              return <li onClick={this.itemClick} key={`option${index}`}>{item}</li>\n            })\n            : ''\n          }\n        </ul>\n      </div>\n    )\n  }\n\n})\n\nexport default Select\n"],"names":["Select","React","createClass","PropTypes","array","isRequired","func","props","selects","Array","length","e","stopPropagation","setState","state","display","className","target","id","body","removeEventListener","setHide","addEventListener","log","clickHiden","innerText","onSelectChange","selectClick","placeholder","map","item","index","itemClick"],"mappings":";;;;;;;;AACA,IAAMA,WAASC,MAAMC,WAAN,CAAkB;;;aACpB;aACAD,MAAME,SAAN,CAAgBC,KAAhB,CAAsBC,UADtB;oBAEOJ,MAAME,SAAN,CAAgBG;GAHH;iBAAA,6BAKZ;WACV;eACI,MADJ;mBAEQ,KAAKC,KAAL,CAAWC,OAAX,IAAsB,KAAKD,KAAL,CAAWC,OAAX,YAA8BC,KAApD,IACC,KAAKF,KAAL,CAAWC,OAAX,CAAmBE,MAAnB,KAA8B,CAD/B,GAEG,KAAKH,KAAL,CAAWC,OAAX,CAAmB,CAAnB,CAFH,GAE2B,KAJnC;iBAKM;KALb;GAN6B;aAAA,uBAclBG,CAdkB,EAcf;MACZC,eAAF;SACKC,QAAL,CAAc;eACH,KAAKC,KAAL,CAAWC,OAAX,KAAuB,OAAvB,GAAiC,MAAjC,GAA0C,OADvC;iBAED,KAAKD,KAAL,CAAWE,SAAX,KAAyB,mBAAzB,GACG,kBADH,GACwB;KAHrC;GAhB6B;YAAA,sBAsBnBL,CAtBmB,EAsBhB;QACTA,EAAEM,MAAF,CAASC,EAAT,KAAgB,WAAhB,IAA+BP,EAAEM,MAAF,CAASC,EAAT,KAAgB,eAAnD,EAAoE;eACzDC,IAAT,CAAcC,mBAAd,CAAkC,OAAlC,EAA2C,KAAKC,OAAhD;KADF,MAEO;eACIF,IAAT,CAAcG,gBAAd,CAA+B,OAA/B,EAAwC,KAAKD,OAA7C;;GA1B2B;SAAA,qBA6BpB;YACDE,GAAR,CAAY,eAAZ;SACKV,QAAL,CAAc;eACH,MADG;iBAED;KAFb;GA/B6B;oBAAA,gCAoCT;QAChB,KAAKC,KAAL,CAAWC,OAAX,KAAuB,MAA3B,EAAmC;eACxBI,IAAT,CAAcC,mBAAd,CAAkC,WAAlC,EAA+C,KAAKI,UAApD;eACSL,IAAT,CAAcC,mBAAd,CAAkC,OAAlC,EAA2C,KAAKC,OAAhD;KAFF,MAGO;eACIF,IAAT,CAAcG,gBAAd,CAA+B,WAA/B,EAA4C,KAAKE,UAAjD;;GAzC2B;WAAA,qBA4CpBb,CA5CoB,EA4CjB;MACVC,eAAF;SACKC,QAAL,CAAc;mBACCF,EAAEM,MAAF,CAASQ,SADV;eAEH,MAFG;iBAGD;KAHb;SAKKlB,KAAL,CAAWmB,cAAX,GAA4B,KAAKnB,KAAL,CAAWmB,cAAX,CAA0Bf,EAAEM,MAAF,CAASQ,SAAnC,CAA5B,GAA4E,EAA5E;GAnD6B;QAAA,oBAqDrB;;;WAEN;;QAAK,KAAI,WAAT,EAAqB,WAAU,aAA/B,EAA6C,SAAS,KAAKE,WAA3D,EAAwE,IAAG,WAA3E;;;UACQ,WAAW,KAAKb,KAAL,CAAWE,SAA5B,EAAuC,IAAG,eAA1C;aAAgEF,KAAL,CAAWc;OADxE;;;UAEM,IAAG,WAAP,EAAmB,OAAO,EAACb,SAAS,KAAKD,KAAL,CAAWC,OAArB,EAA1B;aAESR,KAAL,CAAWC,OAAX,IAAsB,KAAKD,KAAL,CAAWC,OAAX,YAA8BC,KAApD,IACc,KAAKF,KAAL,CAAWC,OAAX,CAAmBE,MAAnB,KAA8B,CAD5C,GAEE,KAAKH,KAAL,CAAWC,OAAX,CAAmBqB,GAAnB,CAAuB,UAACC,IAAD,EAAOC,KAAP,EAAiB;iBACjC;;cAAI,SAAS,MAAKC,SAAlB,EAA6B,gBAAcD,KAA3C;;WAAP;SADA,CAFF,GAKE;;KAVV;;CAtDW,CAAf,CAyEA;;;;"}