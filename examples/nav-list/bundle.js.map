{"version":3,"file":null,"sources":["../../src/components/NavList/NavList.js"],"sourcesContent":["import React from 'react'\nimport Menu from 'antd/lib/menu'\nimport Dropdown from 'antd/lib/dropdown'\nimport Icon from 'antd/lib/icon'\nimport R from 'ramda'\ntype Props = {\n  navList: React.PropTypes.array.isRequired\n}\n\nexport default class NavList extends React.Component {\n  props: Props\n  state = {\n    current: '',\n    currentKey: '',\n  }\n\n  constructor (props) {\n    super(props)\n    this.handlerClick = this.handlerClick.bind(this)\n    this.subMenuClick = this.subMenuClick.bind(this)\n  }\n  componentWillReceiveProps (nextProps) {\n    if (!R.equals(nextProps.navList, this.props.navList)) {\n      nextProps.navList\n      ? nextProps.navList.map((item) => {\n        item.active\n        ? this.setState({\n          current: item.name,\n        })\n        : ''\n      })\n      : ''\n    }\n  }\n\n  handlerClick (e) {\n    let subMenus = []\n    this.props.navList && this.props.navList.map((list) => {\n      !list.dropMenu || list.dropMenu.length === 0\n        ? subMenus.push(list.name)\n      : this.setState({\n        currentKey: e.key,\n      })\n    })\n    subMenus.map((item) => {\n      e.key === item\n        ? (() => {\n          this.setState({\n            current: e.key,\n          })\n          e.item.props.clickEvent && e.item.props.clickEvent(e.key)\n        })()\n      : ''\n    })\n  }\n\n  subMenuClick (e) {\n    const newCurrent = this.state.currentKey\n    this.setState({\n      current: newCurrent,\n    })\n    e.item.props.clickEvent && e.item.props.clickEvent(e.key)\n  }\n  render () {\n    return (\n      <div className='nav__list'>\n        <Menu onClick={this.handlerClick}\n          selectedKeys={[this.state.current]}\n          mode='horizontal'\n          >\n          {\n            this.props.navList && this.props.navList instanceof Array\n              ? this.props.navList.map((list) => {\n                if (list.name && list.dropMenu) {\n                  const menu = <Menu onClick={this.subMenuClick}>\n                    {\n                      list.dropMenu.map((dp) => {\n                        return <Menu.Item clickEvent={list.menuClick} key={dp}>{dp}</Menu.Item>\n                      })\n                    }\n                  </Menu>\n                  return <Menu.Item\n                    key={list.name}><Dropdown overlay={menu} trigger={['click']}>\n                      <span className='nav__list_dp' style={{ textAlign: 'center' }}>\n                        {list.name}&nbsp;&nbsp;<Icon type='down' /></span>\n                    </Dropdown></Menu.Item>\n                }\n                return <Menu.Item clickEvent={list.menuClick} key={list.name}>\n                  <span className='nav__list_dp' style={{ textAlign: 'center' }}>{list.name}</span>\n                </Menu.Item>\n              })\n            : ''\n          }\n        </Menu>\n      </div>\n    )\n  }\n}\n"],"names":["NavList","props","state","handlerClick","bind","subMenuClick","nextProps","R","equals","navList","map","item","active","setState","name","e","subMenus","list","dropMenu","length","push","key","clickEvent","newCurrent","currentKey","current","Array","menu","dp","menuClick","textAlign","React","Component"],"mappings":"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"}